import{u as a,s as e,v as s,L as l,H as t,x as c,g as u,h as o,c as d,w as _,Y as r,i as n,o as i,A as m,e as f,b,j as p,F as x,d as y,I as k,N as v,z as g,O as j,P as q,l as z,p as C,Q as V,Z as w,_ as h,B as F}from"./index-kOP4IYlT.js";import{a as U}from"./uv-button.DeV0IGaS.js";import{_ as I,a as O,b as P}from"./status_3.BfC0uYMu.js";import{d as A}from"./index.Cg7cfzFV.js";import{_ as B}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uv-icon.D9Dv8kiP.js";const E=B({__name:"user-real",setup(B){const E=a(),{userinfo:H}=e(E);s(-1);const L=s(!1),N=()=>{L.value=!0},Q=l((()=>0!=H.value.user_identity_status&&!L.value)),S=()=>{k({url:"/pages/index/index"})},Y=t({name:"",mobile:"",card_front:"",card_reverse:"",contract_image:"",zfb_account:"",zfb_yc_qr:"",zfb_sj_qr:"",wx_sj_qr:"",bank_account:"",bank_name:""}),Z=a=>({name:"姓名",mobile:"手机号",card_front:"身份证正面",card_reverse:"身份证反面",contract_image:"合同照片",zfb_account:"支付宝账号",zfb_yc_qr:"支付宝远程收款码",zfb_sj_qr:"支付宝商家收款码",wx_sj_qr:"微信商家收款码",bank_account:"银行卡号",bank_name:"银行名称"}[a]||""),$=(a,e)=>{Q.value?v({urls:[g(e)]}):j({count:1,success:async e=>{const s=e.tempFilePaths;try{const e=await q(s[0]);console.log("上传完毕",e),Y[a]=e.data.url}catch(l){console.log("e",l)}}})},D=A((async()=>{(()=>{for(const a in Y)if(!Y[a]&&Z(a))return F(`请填写${Z(a)}！`),!1;return!0})()&&(console.log("提交的数据:",Y),Y.id?await w(Y):await h(Y),F("提交成功!"),G(),L.value=!1,E.getUserInfo())}),500),G=async()=>{const a=await r();console.log("getUserIdentity => res",a),Object.keys(a).forEach((e=>{Y[e]=a[e]}))},J=s(!1);return c((async a=>{console.log("options",a),J.value=1==a.noStatus,await E.getUserInfo(),0!=H.value.user_identity_status&&G()})),(a,e)=>{const s=z,l=C,t=n,c=V,r=u(o("uv-button"),U);return i(),d(t,{class:"common-bg px-32 pt-60 pb-100"},{default:_((()=>[0==m(H).user_identity_status||J.value?y("",!0):(i(),d(t,{key:0,class:"status-box center flex-column pt-30 pb-60"},{default:_((()=>[1==m(H).user_identity_status?(i(),f(x,{key:0},[b(s,{class:"status-image",src:I,mode:""}),b(l,{class:"status-text status-text-1"},{default:_((()=>[p("审核中")])),_:1})],64)):2==m(H).user_identity_status?(i(),f(x,{key:1},[b(s,{class:"status-image",src:O,mode:""}),b(l,{class:"status-text status-text-1"},{default:_((()=>[p("审核成功")])),_:1})],64)):3==m(H).user_identity_status?(i(),f(x,{key:2},[b(s,{class:"status-image",src:P,mode:""}),b(l,{class:"status-text status-text-1"},{default:_((()=>[p("审核失败")])),_:1})],64)):y("",!0)])),_:1})),b(t,{class:"card-box"},{default:_((()=>[b(t,{class:"py-20 px-32 border-b title"},{default:_((()=>[p(" 身份信息 ")])),_:1}),b(t,{class:"px-32 pt-24 pb-32"},{default:_((()=>[b(t,{class:"item"},{default:_((()=>[b(t,{class:"label"},{default:_((()=>[p(" 真实姓名 ")])),_:1}),b(t,{class:"mt-20"},{default:_((()=>[b(c,{modelValue:Y.name,"onUpdate:modelValue":e[0]||(e[0]=a=>Y.name=a),class:"input",type:"text",disabled:Q.value,placeholder:"请输入真实姓名"},null,8,["modelValue","disabled"])])),_:1})])),_:1}),b(t,{class:"item mt-32"},{default:_((()=>[b(t,{class:"label"},{default:_((()=>[p(" 手机号 ")])),_:1}),b(t,{class:"mt-20"},{default:_((()=>[b(c,{modelValue:Y.mobile,"onUpdate:modelValue":e[1]||(e[1]=a=>Y.mobile=a),class:"input",type:"text",disabled:Q.value,placeholder:"请输入手机号"},null,8,["modelValue","disabled"])])),_:1})])),_:1}),b(t,{class:"item mt-32"},{default:_((()=>[b(t,{class:"label"},{default:_((()=>[p(" 身份证国徽面 ")])),_:1}),b(t,{class:"mt-20"},{default:_((()=>[Y.card_reverse?(i(),d(s,{key:0,class:"upload-box",src:m(g)(Y.card_reverse),mode:"aspectFill",onClick:e[2]||(e[2]=a=>$("card_reverse",Y.card_reverse))},null,8,["src"])):(i(),d(t,{key:1,class:"upload-box center",onClick:e[3]||(e[3]=a=>$("card_reverse"))},{default:_((()=>[p(" 点击空白处上传 ")])),_:1}))])),_:1})])),_:1}),b(t,{class:"item mt-32"},{default:_((()=>[b(t,{class:"label"},{default:_((()=>[p(" 身份证头像面 ")])),_:1}),b(t,{class:"mt-20"},{default:_((()=>[Y.card_front?(i(),d(s,{key:0,class:"upload-box",src:m(g)(Y.card_front),mode:"aspectFill",onClick:e[4]||(e[4]=a=>$("card_front",Y.card_front))},null,8,["src"])):(i(),d(t,{key:1,class:"upload-box center",onClick:e[5]||(e[5]=a=>$("card_front"))},{default:_((()=>[p(" 点击空白处上传 ")])),_:1}))])),_:1})])),_:1}),b(t,{class:"item mt-32"},{default:_((()=>[b(t,{class:"label"},{default:_((()=>[p(" 合同照片 ")])),_:1}),b(t,{class:"mt-20"},{default:_((()=>[Y.contract_image?(i(),d(s,{key:0,class:"upload-box",src:m(g)(Y.contract_image),mode:"aspectFill",onClick:e[6]||(e[6]=a=>$("contract_image",Y.contract_image))},null,8,["src"])):(i(),d(t,{key:1,class:"upload-box center",onClick:e[7]||(e[7]=a=>$("contract_image"))},{default:_((()=>[p(" 点击空白处上传 ")])),_:1}))])),_:1})])),_:1})])),_:1})])),_:1}),b(t,{class:"card-box mt-20"},{default:_((()=>[b(t,{class:"py-20 px-32 border-b title"},{default:_((()=>[p(" 收款码 ")])),_:1}),b(t,{class:"px-32 pt-24 pb-32"},{default:_((()=>[b(t,{class:"item"},{default:_((()=>[b(t,{class:"label"},{default:_((()=>[p(" 支付宝账号 ")])),_:1}),b(t,{class:"mt-20"},{default:_((()=>[b(c,{modelValue:Y.zfb_account,"onUpdate:modelValue":e[8]||(e[8]=a=>Y.zfb_account=a),class:"input",type:"text",disabled:Q.value,placeholder:"请输入支付宝账号"},null,8,["modelValue","disabled"])])),_:1})])),_:1}),b(t,{class:"item mt-32"},{default:_((()=>[b(t,{class:"label"},{default:_((()=>[p(" 支付宝远程收款码 ")])),_:1}),b(t,{class:"mt-20"},{default:_((()=>[Y.zfb_yc_qr?(i(),d(s,{key:0,class:"upload-box",src:m(g)(Y.zfb_yc_qr),mode:"aspectFill",onClick:e[9]||(e[9]=a=>$("zfb_yc_qr",Y.zfb_yc_qr))},null,8,["src"])):(i(),d(t,{key:1,class:"upload-box center",onClick:e[10]||(e[10]=a=>$("zfb_yc_qr"))},{default:_((()=>[p(" 点击空白处上传 ")])),_:1}))])),_:1})])),_:1}),b(t,{class:"item mt-32"},{default:_((()=>[b(t,{class:"label"},{default:_((()=>[p(" 支付宝商家收款码 ")])),_:1}),b(t,{class:"mt-20"},{default:_((()=>[Y.zfb_sj_qr?(i(),d(s,{key:0,class:"upload-box",src:m(g)(Y.zfb_sj_qr),mode:"aspectFill",onClick:e[11]||(e[11]=a=>$("zfb_sj_qr",Y.zfb_sj_qr))},null,8,["src"])):(i(),d(t,{key:1,class:"upload-box center",onClick:e[12]||(e[12]=a=>$("zfb_sj_qr"))},{default:_((()=>[p(" 点击空白处上传 ")])),_:1}))])),_:1})])),_:1}),b(t,{class:"item mt-32"},{default:_((()=>[b(t,{class:"label"},{default:_((()=>[p(" 微信商家收款码 ")])),_:1}),b(t,{class:"mt-20"},{default:_((()=>[Y.wx_sj_qr?(i(),d(s,{key:0,class:"upload-box",src:m(g)(Y.wx_sj_qr),mode:"aspectFill",onClick:e[13]||(e[13]=a=>$("wx_sj_qr",Y.wx_sj_qr))},null,8,["src"])):(i(),d(t,{key:1,class:"upload-box center",onClick:e[14]||(e[14]=a=>$("wx_sj_qr"))},{default:_((()=>[p(" 点击空白处上传 ")])),_:1}))])),_:1})])),_:1})])),_:1})])),_:1}),b(t,{class:"card-box mt-20"},{default:_((()=>[b(t,{class:"py-20 px-32 border-b title"},{default:_((()=>[p(" 银行信息 ")])),_:1}),b(t,{class:"px-32 pt-24 pb-32"},{default:_((()=>[b(t,{class:"item"},{default:_((()=>[b(t,{class:"label"},{default:_((()=>[p(" 银行卡号 ")])),_:1}),b(t,{class:"mt-20"},{default:_((()=>[b(c,{modelValue:Y.bank_account,"onUpdate:modelValue":e[15]||(e[15]=a=>Y.bank_account=a),class:"input",type:"text",disabled:Q.value,placeholder:"请输入银行卡号"},null,8,["modelValue","disabled"])])),_:1})])),_:1}),b(t,{class:"item mt-32"},{default:_((()=>[b(t,{class:"label"},{default:_((()=>[p(" 银行信息 ")])),_:1}),b(t,{class:"mt-20"},{default:_((()=>[b(c,{modelValue:Y.bank_name,"onUpdate:modelValue":e[16]||(e[16]=a=>Y.bank_name=a),class:"input",type:"text",disabled:Q.value,placeholder:"请输入银行信息"},null,8,["modelValue","disabled"])])),_:1})])),_:1})])),_:1})])),_:1}),b(t,{class:"mt-30"},{default:_((()=>[0==m(H).user_identity_status||L.value?(i(),d(r,{key:0,text:"确认提交",color:"#3274F6",onClick:m(D)},null,8,["onClick"])):3==m(H).user_identity_status?(i(),d(r,{key:1,text:"修改信息",color:"#3274F6",onClick:N})):y("",!0),b(r,{text:"返回首页",class:"mt-20",onClick:S})])),_:1})])),_:1})}}},[["__scopeId","data-v-5b087f08"]]);export{E as default};
