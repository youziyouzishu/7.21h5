import{u as a,s,v as l,L as e,H as t,x as d,g as u,h as c,c as o,w as _,M as r,i as n,o as m,A as i,e as p,b as f,j as b,F as x,d as y,I as k,N as h,z as V,O as g,P as v,l as j,p as q,Q as z,R as w,T as C,B as U}from"./index-kOP4IYlT.js";import{a as F}from"./uv-button.DeV0IGaS.js";import{_ as I,a as S,b as O}from"./status_3.BfC0uYMu.js";import{d as P}from"./index.Cg7cfzFV.js";import{_ as A}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uv-icon.D9Dv8kiP.js";const B=A({__name:"shop-real",setup(A){const B=a(),{userinfo:E}=s(B),H=l(!1),L=()=>{H.value=!0},M=e((()=>0!=E.value.shop_status&&!H.value)),N=()=>{k({url:"/pages/index/index"})},Q=t({id:"",name:"",image:"",tb_address:"",ali_address:"",xy_address:"",tm_address:"",zfb_account:"",zfb_yc_qr:"",zfb_sj_qr:"",wx_sj_qr:"",bank_account:"",bank_name:"",reason:""}),R=a=>({name:"姓名",image:"营业执照",tb_address:"淘宝店铺地址",ali_address:"阿里店铺地址",xy_address:"闲鱼店铺地址",tm_address:"天猫店铺地址",zfb_account:"支付宝账号",zfb_yc_qr:"支付宝远程收款码",zfb_sj_qr:"支付宝商家收款码",wx_sj_qr:"微信商家收款码",bank_account:"银行卡号",bank_name:"银行名称"}[a]||""),T=(a,s)=>{M.value?h({urls:[V(s)]}):g({count:1,success:async s=>{const l=s.tempFilePaths;try{const s=await v(l[0]);console.log("上传完毕",s),Q[a]=s.data.url}catch(e){console.log("e",e)}}})},$=P((async()=>{if((()=>{for(const a in Q)if(!Q[a]&&R(a))return U(`请填写${R(a)}！`),!1;return!0})()){if(console.log("提交的数据:",Q),Q.id)await w(Q);else{const a=await C(Q);console.log("insertShop => res",a)}U("提交成功!"),D(),H.value=!1,B.getUserInfo()}}),500),D=async()=>{const a=await r();console.log("getUserShop => res",a),Object.keys(a).forEach((s=>{Q[s]=a[s]}))},G=l(!1);return d((async a=>{console.log("options",a),G.value=1==a.noStatus,await B.getUserInfo(),0!=E.value.shop_status&&D()})),(a,s)=>{const l=j,e=q,t=n,d=z,r=u(c("uv-button"),F);return m(),o(t,{class:"common-bg px-32 pt-60 pb-100"},{default:_((()=>[0==i(E).shop_status||G.value?y("",!0):(m(),o(t,{key:0,class:"status-box center flex-column pt-30 pb-60"},{default:_((()=>[1==i(E).shop_status?(m(),p(x,{key:0},[f(l,{class:"status-image",src:I,mode:""}),f(e,{class:"status-text status-text-1"},{default:_((()=>[b("审核中")])),_:1})],64)):2==i(E).shop_status?(m(),p(x,{key:1},[f(l,{class:"status-image",src:S,mode:""}),f(e,{class:"status-text status-text-1"},{default:_((()=>[b("审核成功")])),_:1})],64)):3==i(E).shop_status?(m(),p(x,{key:2},[f(l,{class:"status-image",src:O,mode:""}),f(e,{class:"status-text status-text-1"},{default:_((()=>[b("审核失败")])),_:1})],64)):y("",!0)])),_:1})),f(t,{class:"card-box"},{default:_((()=>[f(t,{class:"py-20 px-32 border-b title"},{default:_((()=>[b(" 营业执照 ")])),_:1}),f(t,{class:"px-32 pt-24 pb-32"},{default:_((()=>[f(t,{class:"item"},{default:_((()=>[f(t,{class:"label"},{default:_((()=>[b(" 真实姓名 ")])),_:1}),f(t,{class:"mt-20"},{default:_((()=>[f(d,{modelValue:Q.name,"onUpdate:modelValue":s[0]||(s[0]=a=>Q.name=a),class:"input",type:"text",disabled:M.value,placeholder:"请输入真实姓名"},null,8,["modelValue","disabled"])])),_:1})])),_:1}),f(t,{class:"item mt-32"},{default:_((()=>[f(t,{class:"label"},{default:_((()=>[b(" 营业执照 ")])),_:1}),f(t,{class:"mt-20"},{default:_((()=>[Q.image?(m(),o(l,{key:0,class:"upload-box",src:i(V)(Q.image),mode:"aspectFill",onClick:s[1]||(s[1]=a=>T("image",Q.image))},null,8,["src"])):(m(),o(t,{key:1,class:"upload-box center",onClick:s[2]||(s[2]=a=>T("image"))},{default:_((()=>[b(" 点击空白处上传 ")])),_:1}))])),_:1})])),_:1})])),_:1})])),_:1}),f(t,{class:"card-box mt-20"},{default:_((()=>[f(t,{class:"py-20 px-32 border-b title"},{default:_((()=>[b(" 店铺地址 ")])),_:1}),f(t,{class:"px-32 pt-24 pb-32"},{default:_((()=>[f(t,{class:"item"},{default:_((()=>[f(t,{class:"label"},{default:_((()=>[b(" 淘宝店铺地址 ")])),_:1}),f(t,{class:"mt-20"},{default:_((()=>[f(d,{modelValue:Q.tb_address,"onUpdate:modelValue":s[3]||(s[3]=a=>Q.tb_address=a),class:"input",type:"text",disabled:M.value,placeholder:"请输入淘宝店铺地址"},null,8,["modelValue","disabled"])])),_:1})])),_:1}),f(t,{class:"item mt-32"},{default:_((()=>[f(t,{class:"label"},{default:_((()=>[b(" 阿里店铺地址 ")])),_:1}),f(t,{class:"mt-20"},{default:_((()=>[f(d,{modelValue:Q.ali_address,"onUpdate:modelValue":s[4]||(s[4]=a=>Q.ali_address=a),class:"input",type:"text",disabled:M.value,placeholder:"请输入阿里店铺地址"},null,8,["modelValue","disabled"])])),_:1})])),_:1}),f(t,{class:"item mt-32"},{default:_((()=>[f(t,{class:"label"},{default:_((()=>[b(" 闲鱼店铺地址 ")])),_:1}),f(t,{class:"mt-20"},{default:_((()=>[f(d,{modelValue:Q.xy_address,"onUpdate:modelValue":s[5]||(s[5]=a=>Q.xy_address=a),class:"input",type:"text",disabled:M.value,placeholder:"请输入闲鱼店铺地址"},null,8,["modelValue","disabled"])])),_:1})])),_:1}),f(t,{class:"item mt-32"},{default:_((()=>[f(t,{class:"label"},{default:_((()=>[b(" 天猫店铺地址 ")])),_:1}),f(t,{class:"mt-20"},{default:_((()=>[f(d,{modelValue:Q.tm_address,"onUpdate:modelValue":s[6]||(s[6]=a=>Q.tm_address=a),class:"input",type:"text",disabled:M.value,placeholder:"请输入天猫店铺地址"},null,8,["modelValue","disabled"])])),_:1})])),_:1})])),_:1})])),_:1}),f(t,{class:"card-box mt-20"},{default:_((()=>[f(t,{class:"py-20 px-32 border-b title"},{default:_((()=>[b(" 收款码 ")])),_:1}),f(t,{class:"px-32 pt-24 pb-32"},{default:_((()=>[f(t,{class:"item"},{default:_((()=>[f(t,{class:"label"},{default:_((()=>[b(" 支付宝账号 ")])),_:1}),f(t,{class:"mt-20"},{default:_((()=>[f(d,{modelValue:Q.zfb_account,"onUpdate:modelValue":s[7]||(s[7]=a=>Q.zfb_account=a),class:"input",type:"text",disabled:M.value,placeholder:"请输入支付宝账号"},null,8,["modelValue","disabled"])])),_:1})])),_:1}),f(t,{class:"item mt-32"},{default:_((()=>[f(t,{class:"label"},{default:_((()=>[b(" 支付宝远程收款码 ")])),_:1}),f(t,{class:"mt-20"},{default:_((()=>[Q.zfb_yc_qr?(m(),o(l,{key:0,class:"upload-box",src:i(V)(Q.zfb_yc_qr),mode:"aspectFill",onClick:s[8]||(s[8]=a=>T("zfb_yc_qr",Q.zfb_yc_qr))},null,8,["src"])):(m(),o(t,{key:1,class:"upload-box center",onClick:s[9]||(s[9]=a=>T("zfb_yc_qr"))},{default:_((()=>[b(" 点击空白处上传 ")])),_:1}))])),_:1})])),_:1}),f(t,{class:"item mt-32"},{default:_((()=>[f(t,{class:"label"},{default:_((()=>[b(" 支付宝商家收款码 ")])),_:1}),f(t,{class:"mt-20"},{default:_((()=>[Q.zfb_sj_qr?(m(),o(l,{key:0,class:"upload-box",src:i(V)(Q.zfb_sj_qr),mode:"aspectFill",onClick:s[10]||(s[10]=a=>T("zfb_sj_qr",Q.zfb_sj_qr))},null,8,["src"])):(m(),o(t,{key:1,class:"upload-box center",onClick:s[11]||(s[11]=a=>T("zfb_sj_qr"))},{default:_((()=>[b(" 点击空白处上传 ")])),_:1}))])),_:1})])),_:1}),f(t,{class:"item mt-32"},{default:_((()=>[f(t,{class:"label"},{default:_((()=>[b(" 微信商家收款码 ")])),_:1}),f(t,{class:"mt-20"},{default:_((()=>[Q.wx_sj_qr?(m(),o(l,{key:0,class:"upload-box",src:i(V)(Q.wx_sj_qr),mode:"aspectFill",onClick:s[12]||(s[12]=a=>T("wx_sj_qr",Q.wx_sj_qr))},null,8,["src"])):(m(),o(t,{key:1,class:"upload-box center",onClick:s[13]||(s[13]=a=>T("wx_sj_qr"))},{default:_((()=>[b(" 点击空白处上传 ")])),_:1}))])),_:1})])),_:1})])),_:1})])),_:1}),f(t,{class:"card-box mt-20"},{default:_((()=>[f(t,{class:"py-20 px-32 border-b title"},{default:_((()=>[b(" 银行信息 ")])),_:1}),f(t,{class:"px-32 pt-24 pb-32"},{default:_((()=>[f(t,{class:"item"},{default:_((()=>[f(t,{class:"label"},{default:_((()=>[b(" 银行卡号 ")])),_:1}),f(t,{class:"mt-20"},{default:_((()=>[f(d,{modelValue:Q.bank_account,"onUpdate:modelValue":s[14]||(s[14]=a=>Q.bank_account=a),class:"input",type:"text",disabled:M.value,placeholder:"请输入银行卡号"},null,8,["modelValue","disabled"])])),_:1})])),_:1}),f(t,{class:"item mt-32"},{default:_((()=>[f(t,{class:"label"},{default:_((()=>[b(" 银行信息 ")])),_:1}),f(t,{class:"mt-20"},{default:_((()=>[f(d,{modelValue:Q.bank_name,"onUpdate:modelValue":s[15]||(s[15]=a=>Q.bank_name=a),class:"input",type:"text",disabled:M.value,placeholder:"请输入银行信息"},null,8,["modelValue","disabled"])])),_:1})])),_:1})])),_:1})])),_:1}),f(t,{class:"mt-30"},{default:_((()=>[0==i(E).shop_status||H.value?(m(),o(r,{key:0,text:"确认提交",color:"#3274F6",onClick:i($)},null,8,["onClick"])):3==i(E).shop_status?(m(),o(r,{key:1,text:"修改信息",color:"#3274F6",onClick:L})):y("",!0),f(r,{text:"返回首页",class:"mt-20",onClick:N})])),_:1})])),_:1})}}},[["__scopeId","data-v-37f64b6f"]]);export{B as default};
