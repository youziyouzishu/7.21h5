import{v as a,H as e,x as l,g as s,h as t,c as o,w as c,a2 as u,a3 as n,i as d,o as i,b as r,j as _,t as p,A as m,d as f,a4 as y,O as v,P as b,B as x,G as g,a5 as k,a6 as h,a7 as w,p as j,l as C,z as V}from"./index-DK4qRpkM.js";import{_ as T}from"./uv-navbar.uyK29PRw.js";import{_ as F}from"./uv-input.BRhZpbB1.js";import{a as U}from"./uv-button.CdO8U1PR.js";import{p as I}from"./pay-type-item.BVTU1IU8.js";import{_ as z}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uv-status-bar.DOuDGens.js";import"./uv-icon.CR1yYVPm.js";const D=z({__name:"data-optimize-pay",setup(z){const D=a(),L=a({}),O=a({}),P={wechat:"微信",alipay:"支付宝",bank:"银行卡"},q=["wechat","alipay","bank"],A=a("wechat"),B=a("微信"),G=()=>{y({itemList:["微信","支付宝","银行卡"],success:function(a){console.log("handleToUserTypeClick => res",a),A.value=q[a.tapIndex],B.value=P[A.value]}})},H=a("wechat"),R=a("微信"),E=()=>{y({itemList:["微信","支付宝","银行卡"],success:function(a){console.log("handleToUserTypeClick => res",a),H.value=q[a.tapIndex],R.value=P[H.value]}})},J=e({id:"",user_pay_image:"",platform_pay_image:""}),K=(a,e)=>{v({count:1,success:async e=>{const l=e.tempFilePaths;try{const e=await b(l[0]);console.log("上传完毕",e),J[a]=e.data.url}catch(s){console.log("e",s)}}})},M=async()=>{J.user_pay_image?J.platform_pay_image?g({title:"提示",content:"确认要提交吗?",success:function(a){a.cancel||N()}}):x("请上传平台付款凭证!"):x("请上传卖家付款凭证!")},N=async()=>{await k(J),x("提交成功!"),h("orderRefresh"),setTimeout((()=>{w()}),800)};return l((a=>{console.log("options",a),D.value=a.id,J.id=a.id,(async()=>{const a=await u({id:D.value});console.log("getOrderDetail => res",a),L.value=a})(),(async()=>{const a=await n();console.log("getConfig => res",a),O.value=a.platform})()})),(a,e)=>{const l=s(t("uv-navbar"),T),u=j,n=d,y=s(t("uv-input"),F),v=C,b=s(t("uv-button"),U);return i(),o(n,{class:"h-100-bg-drak px-32 detail-content"},{default:c((()=>[r(l,{"auto-back":"",title:"支付",placeholder:"",fixed:""}),r(n,{class:"card-box px-32 py-34 mt-20"},{default:c((()=>[r(n,{class:""},{default:c((()=>[r(u,{class:"label"},{default:c((()=>[_("交易金额：")])),_:1}),r(u,{class:"content"},{default:c((()=>[_("￥2000.00")])),_:1})])),_:1}),r(n,{class:"mt-32"},{default:c((()=>[r(u,{class:"label"},{default:c((()=>[_("服务费：")])),_:1}),r(u,{class:"content"},{default:c((()=>[_("￥2000.00")])),_:1})])),_:1}),r(n,{class:"mt-32"},{default:c((()=>[r(u,{class:"label"},{default:c((()=>[_("客服收益：")])),_:1}),r(u,{class:"content"},{default:c((()=>[_("￥2000.00")])),_:1})])),_:1}),r(n,{class:"mt-32"},{default:c((()=>[r(u,{class:"label"},{default:c((()=>[_("直推收益：")])),_:1}),r(u,{class:"content"},{default:c((()=>[_("￥2000.00")])),_:1})])),_:1}),r(n,{class:"border-t mt-32"}),r(n,{class:"mt-32"},{default:c((()=>[r(u,{class:"label"},{default:c((()=>[_("待支付卖家金额：")])),_:1}),r(u,{class:"content"},{default:c((()=>[_("￥6000.00")])),_:1})])),_:1}),r(n,{class:"mt-32"},{default:c((()=>[r(u,{class:"label"},{default:c((()=>[_("待支付平台服务费：")])),_:1}),r(u,{class:"content"},{default:c((()=>[_("￥2000.00")])),_:1})])),_:1})])),_:1}),L.value.to_user?(i(),o(n,{key:0,class:"card-box px-32 py-34 mt-20"},{default:c((()=>[r(n,{class:""},{default:c((()=>[r(u,{class:"label"},{default:c((()=>[_("卖家：")])),_:1}),r(u,{class:"content"},{default:c((()=>[_(p(L.value.to_user.nickname)+" "+p(L.value.to_user.mobile),1)])),_:1})])),_:1}),r(n,{class:"flex items-center mt-16"},{default:c((()=>[r(u,{class:"label"},{default:c((()=>[_("卖家收款码：")])),_:1}),r(y,{modelValue:B.value,"onUpdate:modelValue":e[0]||(e[0]=a=>B.value=a),placeholder:"请选择收款方式",readonly:"","suffix-icon":"arrow-down",onClick:G},null,8,["modelValue"])])),_:1}),r(n,{class:"mt-16"},{default:c((()=>[r(I,{type:A.value,item:L.value.to_user.user_identity},null,8,["type","item"])])),_:1}),r(n,{class:"mt-32"},{default:c((()=>[r(n,{class:"label"},{default:c((()=>[_(" 上传支付截图 ")])),_:1}),J.user_pay_image?(i(),o(v,{key:0,class:"upload-box",src:m(V)(J.user_pay_image),mode:"aspectFill",onClick:e[1]||(e[1]=a=>K("user_pay_image"))},null,8,["src"])):(i(),o(n,{key:1,class:"upload-box center mt-32",onClick:e[2]||(e[2]=a=>K("user_pay_image"))},{default:c((()=>[r(u,null,{default:c((()=>[_("上传支付截图！")])),_:1})])),_:1}))])),_:1})])),_:1})):f("",!0),r(n,{class:"card-box px-32 py-34 mt-20"},{default:c((()=>[r(n,{class:"flex items-center mt-16"},{default:c((()=>[r(u,{class:"label"},{default:c((()=>[_("平台收款码：")])),_:1}),r(y,{modelValue:R.value,"onUpdate:modelValue":e[3]||(e[3]=a=>R.value=a),placeholder:"请选择收款方式",readonly:"","suffix-icon":"arrow-down",onClick:E},null,8,["modelValue"])])),_:1}),r(n,{class:"mt-16"},{default:c((()=>[r(I,{type:H.value,item:O.value},null,8,["type","item"])])),_:1}),r(n,{class:"mt-32"},{default:c((()=>[r(n,{class:"label"},{default:c((()=>[_(" 上传支付截图 ")])),_:1}),J.platform_pay_image?(i(),o(v,{key:0,class:"upload-box",src:m(V)(J.platform_pay_image),mode:"aspectFill",onClick:e[4]||(e[4]=a=>K("platform_pay_image"))},null,8,["src"])):(i(),o(n,{key:1,class:"upload-box center mt-32",onClick:e[5]||(e[5]=a=>K("platform_pay_image"))},{default:c((()=>[r(u,null,{default:c((()=>[_("上传支付截图！")])),_:1})])),_:1}))])),_:1})])),_:1}),r(n,{class:"fixed-box px-32 pt-28 flex justify-end"},{default:c((()=>[r(b,{text:"提交",color:"#3274F6","custom-style":"width: 148rpx;height: 60rpx;",onClick:M})])),_:1})])),_:1})}}},[["__scopeId","data-v-3bb4cfa0"]]);export{D as default};
